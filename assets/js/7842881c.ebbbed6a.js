"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[915],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},y=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=c(n),y=o,h=d["".concat(l,".").concat(y)]||d[y]||u[y]||i;return n?a.createElement(h,r(r({ref:t},p),{},{components:n})):a.createElement(h,r({ref:t},p))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,r=new Array(i);r[0]=y;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[d]="string"==typeof e?e:o,r[1]=s;for(var c=2;c<i;c++)r[c]=n[c];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}y.displayName="MDXCreateElement"},4365:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var a=n(7462),o=(n(7294),n(3905));const i={sidebar_position:5},r="Dependency Coupling",s={unversionedId:"analysis-tools/dependency-coupling",id:"analysis-tools/dependency-coupling",title:"Dependency Coupling",description:"Dependency Coupling Tool helps us to detect how coupled is our artifact with a specific dependency, that can be an internal, same organization, external or a standard package.",source:"@site/docs/analysis-tools/dependency-coupling.md",sourceDirName:"analysis-tools",slug:"/analysis-tools/dependency-coupling",permalink:"/docs/analysis-tools/dependency-coupling",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/analysis-tools/dependency-coupling.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Instability & Abstractness",permalink:"/docs/analysis-tools/instability-and-abstractness"},next:{title:"VCS Analysis",permalink:"/docs/analysis-tools/vcs-analysis"}},l={},c=[{value:"A short but very common story",id:"a-short-but-very-common-story",level:2},{value:"Using the Go-Architect Tool",id:"using-the-go-architect-tool",level:2}],p={toc:c},d="wrapper";function u(e){let{components:t,...n}=e;return(0,o.kt)(d,(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"dependency-coupling"},"Dependency Coupling"),(0,o.kt)("p",null,"Dependency Coupling Tool helps us to detect how coupled is our artifact with a specific dependency, that can be an internal, same organization, external or a standard package."),(0,o.kt)("h2",{id:"a-short-but-very-common-story"},"A short but very common story"),(0,o.kt)("p",null,"Imaging that you're working on a Go Project that uses YAML files, in the beginning you decided to use an external package to work with YAML files, and you found that ",(0,o.kt)("a",{parentName:"p",href:"https://gopkg.in/yaml.v2"},"gopkg.in/yaml.v2")," fits your requirements."),(0,o.kt)("p",null,"Few months later, a friend told you about am alternative package (",(0,o.kt)("a",{parentName:"p",href:"https://github.com/goccy/go-yaml"},"https://github.com/goccy/go-yaml"),") that seems to be more active in terms of maintainability, so you're thinking in replace ",(0,o.kt)("inlineCode",{parentName:"p"},"gopkg.in/yaml.v2")," with ",(0,o.kt)("inlineCode",{parentName:"p"},"github.com/goccy/go-yaml"),"."),(0,o.kt)("p",null,"The reasonable way to do this should start with an analysis of how coupled our project is with this dependency. It is very different in terms of complexity and effort to change a library that is used in a single package (and perhaps a single file), than when an external library is used directly in almost any package and file in the project (yes, it would be a very poor design, but it often happens)."),(0,o.kt)("img",{src:"/screenshots/analysis-tools/dependency-coupling/dependency-coupling-01.png",alt:"Dependency Management",title:"Dependency Management"}),(0,o.kt)("p",null,"Sometimes our code is very coupled to an external dependency, in these cases a good approach is to abstract this dependency to decouple our code and then replace the specific dependency to the new one, this approach\nhelps us to be prepared to future dependency updates or a new replacement (in case that a more fancy YAML library appears). The following image represents this case."),(0,o.kt)("img",{src:"/screenshots/analysis-tools/dependency-coupling/dependency-coupling-02.png",alt:"Dependency Management",title:"Dependency Management"}),(0,o.kt)("p",null,"The previous example applies in the same way if we want to upgrade a dependency version and there are some breaking changes (for example when we're upgrading to a new major version)."),(0,o.kt)("h2",{id:"using-the-go-architect-tool"},"Using the Go-Architect Tool"),(0,o.kt)("p",null,"The Dependency Coupling Analysis Tool offers a very simple way to analyze how coupled is your project to a specific package.\nTo start the analysis, you need to enter the package in the form at the top of the page."),(0,o.kt)("img",{src:"/screenshots/analysis-tools/dependency-coupling/dependency-coupling-03.png",alt:"Select Dependency",title:"Select Dependency"}),(0,o.kt)("p",null,"In this example we're going to analyze how coupled is the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/fdaines/arch-go"},"arch-go")," tool to the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/spf13/cobra"},"github.com/spf13/cobra")," package.\nThe tool will show the summary result for the coupling analysis, in this case is showing that the calculated coupling level is 11, it means that there are 11 instructions in the project that uses the ",(0,o.kt)("inlineCode",{parentName:"p"},"Cobra")," package."),(0,o.kt)("img",{src:"/screenshots/analysis-tools/dependency-coupling/dependency-coupling-04.png",alt:"View Dependency Coupling Summary",title:"View Dependency Coupling Summary"}),(0,o.kt)("p",null,"Also, you can expand the dependant package to list all the files in this package that depends on the selected dependency."),(0,o.kt)("img",{src:"/screenshots/analysis-tools/dependency-coupling/dependency-coupling-05.png",alt:"View Dependency Coupling Details",title:"View Dependency Coupling Details"}),(0,o.kt)("p",null,"Finally, for a more detailed view, you can open the entry for a specific file to display the source code.\nThe code will highlight every line that uses the dependency."),(0,o.kt)("img",{src:"/screenshots/analysis-tools/dependency-coupling/dependency-coupling-06.png",alt:"View SourceFile Details",title:"View SourceFile Details"}),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("strong",{parentName:"p"},"Note"),"\nThe 4th time that ",(0,o.kt)("inlineCode",{parentName:"p"},"describe.go")," file uses the ",(0,o.kt)("inlineCode",{parentName:"p"},"Cobra")," package is line number 21 that is not showed in the previous screenshot.")))}u.isMDXComponent=!0}}]);